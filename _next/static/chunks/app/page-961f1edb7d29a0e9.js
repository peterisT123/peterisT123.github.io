(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4269:(e,s,a)=>{"use strict";a.d(s,{cn:()=>l});var t=a(2821),r=a(5889);function l(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,r.QP)((0,t.$)(s))}},5249:(e,s,a)=>{"use strict";a.d(s,{AppProvider:()=>o,U:()=>d});var t=a(5155),r=a(2115);let l={id:"building-0",objectType:"Dzīvoklis",ownerName:"",propertyArea:void 0,buildYear:"Pēc 2000",isConstantlyInhabited:!0,lossesInLast3Years:!1,movablePropertyIncluded:!1,valuableMovablePropertyIncluded:!1,totalFloors:void 0,currentFloor:void 0},n={step:1,legalStatus:"Fiziska persona",buildings:[l],contact:{name:"",email:"",phone:""},submitted:!1},i=(0,r.createContext)(void 0);function o(e){let{children:s}=e,[a,o]=(0,r.useState)(n),d=(0,r.useRef)(1),c=(0,r.useCallback)(e=>{o(s=>({...s,step:e}))},[]),u=(0,r.useCallback)(()=>{o(e=>e.step<4?{...e,step:e.step+1}:e)},[]),m=(0,r.useCallback)(()=>{o(e=>e.step>1?{...e,step:e.step-1}:e)},[]),x=(0,r.useCallback)(()=>{o(e=>({...e,buildings:[...e.buildings,{...l,id:"building-".concat(d.current++)}]}))},[]),p=(0,r.useCallback)((e,s)=>{o(a=>{let t=[...a.buildings];return t[e]={...t[e],...s},{...a,buildings:t}})},[]),h=(0,r.useCallback)(e=>{o(s=>({...s,buildings:s.buildings.filter((s,a)=>a!==e)}))},[]),f=(0,r.useCallback)(e=>{o(s=>({...s,submitted:e}))},[]);return(0,t.jsx)(i.Provider,{value:{state:a,setState:o,setStep:c,handleNext:u,handleBack:m,addBuilding:x,updateBuilding:p,removeBuilding:h,setSubmitted:f},children:s})}function d(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAppContext must be used within an AppProvider");return e}},5844:(e,s,a)=>{Promise.resolve().then(a.bind(a,9892))},5894:(e,s,a)=>{"use strict";a.d(s,{dj:()=>u});var t=a(2115);let r=0,l=new Map,n=e=>{if(l.has(e))return;let s=setTimeout(()=>{l.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,s)},i=[],o={toasts:[]};function d(e){o=((e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=s;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}})(o,e),i.forEach(e=>{e(o)})}function c(e){let{...s}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...s,id:a,open:!0,onOpenChange:e=>{e||t()}}}),{id:a,dismiss:t,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,s]=t.useState(o);return t.useEffect(()=>(i.push(s),()=>{let e=i.indexOf(s);e>-1&&i.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},9892:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>ev});var t=a(5155),r=a(9201),l=a(8595),n=a(7974),i=a(2251),o=a(705),d=a(1408),c=a(4486),u=a(4269);function m(e){let{currentStep:s,steps:a}=e;return(0,t.jsx)("nav",{"aria-label":"Progress",children:(0,t.jsx)("ol",{role:"list",className:"flex items-center",children:a.map((e,r)=>(0,t.jsxs)("li",{className:(0,u.cn)("relative",{"flex-1":r<a.length-1}),children:[(0,t.jsxs)("div",{className:"flex items-center",children:[r>0&&(0,t.jsx)("div",{className:"flex-1 h-0.5 bg-border relative",children:(0,t.jsx)(c.P.div,{className:"absolute top-0 left-0 h-full bg-primary",initial:{width:0},animate:{width:s>r?"100%":"0%"},transition:{duration:.5,ease:"easeInOut"}})}),(0,t.jsxs)(c.P.div,{className:"relative flex h-10 w-10 items-center justify-center rounded-full",animate:s>r?"completed":s===r+1?"active":"inactive",variants:{completed:{scale:1,backgroundColor:"hsl(var(--primary))"},active:{scale:1.1,backgroundColor:"hsl(var(--primary))"},inactive:{scale:1,backgroundColor:"hsl(var(--card))"}},transition:{duration:.2},children:[(0,t.jsx)("div",{className:(0,u.cn)("absolute inset-0 rounded-full border-2",s>r||s===r+1?"border-primary":"border-border")}),s>r?(0,t.jsx)(i.A,{className:"h-6 w-6 text-primary-foreground","aria-hidden":"true"}):(0,t.jsx)(e.icon,{className:(0,u.cn)("h-6 w-6",s===r+1?"text-primary-foreground":"text-muted-foreground"),"aria-hidden":"true"})]}),(0,t.jsx)("div",{className:"absolute top-12 w-max text-center left-1/2 -translate-x-1/2",children:(0,t.jsx)("p",{className:(0,u.cn)("text-sm font-medium",s>=r+1?"text-primary":"text-muted-foreground"),children:e.title})})]}),r===a.length-1&&(0,t.jsx)("div",{className:"flex-1 h-0.5 bg-transparent"})]},e.title))})})}var x=a(2115),p=a(7129),h=a(3101);let f=(0,h.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=x.forwardRef((e,s)=>{let{className:a,variant:r,size:l,asChild:n=!1,...i}=e,o=n?p.DX:"button";return(0,t.jsx)(o,{className:(0,u.cn)(f({variant:r,size:l,className:a})),ref:s,...i})});j.displayName="Button";var b=a(5249),g=a(5894);let v=x.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,u.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});v.displayName="Card";let N=x.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,u.cn)("flex flex-col space-y-1.5 p-6",a),...r})});N.displayName="CardHeader";let y=x.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,u.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});y.displayName="CardTitle";let w=x.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,u.cn)("text-sm text-muted-foreground",a),...r})});w.displayName="CardDescription";let k=x.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,u.cn)("p-6 pt-0",a),...r})});k.displayName="CardContent",x.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,u.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter";var C=a(773),z=a(5797);let I=x.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(C.bL,{className:(0,u.cn)("grid gap-2",a),...r,ref:s})});I.displayName=C.bL.displayName;let P=x.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(C.q7,{ref:s,className:(0,u.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...r,children:(0,t.jsx)(C.C1,{className:"flex items-center justify-center",children:(0,t.jsx)(z.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});P.displayName=C.q7.displayName;var A=a(489);let S=(0,h.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),F=x.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(A.b,{ref:s,className:(0,u.cn)(S(),a),...r})});F.displayName=A.b.displayName;var T=a(7314),R=a(9729);let D=JSON.parse('{"o":[{"id":"hero-insurance","description":"A modern house with an insurance shield icon.","imageUrl":"https://images.unsplash.com/photo-1732717566587-f5a155bd8dea?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw3fHxob3VzZSUyMGluc3VyYW5jZXxlbnwwfHx8fDE3Njg3NDkyNDh8MA&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"house insurance"}]}').o;var E=a(5239),M=a(2452),_=a(2544),O=a(6942),V=a(3630),L=a(5653);let J={required_error:"Šis lauks ir obligāts."},U={invalid_type_error:"Ievadīta nekorekta vērtība."},Y=L.z.object({id:L.z.string(),objectType:L.z.enum(["Dzīvoklis","Māja","Ēka"],J),ownerName:L.z.string(J).min(2,"Vārdam jābūt vismaz 2 burtus garam.").max(120,"Vārds nevar būt garāks par 120 burtiem."),propertyArea:L.z.number({...J,...U}).positive("Platībai jābūt lielākai par 0."),buildYear:L.z.enum(["Pirms 1971","No 1972 - 1999","Pēc 2000"],J),isConstantlyInhabited:L.z.boolean(),lossesInLast3Years:L.z.boolean(),movablePropertyIncluded:L.z.boolean(),valuableMovablePropertyIncluded:L.z.boolean(),totalFloors:L.z.number(U).positive("Stāvu skaitam jābūt pozitīvam skaitlim.").optional(),currentFloor:L.z.number(U).positive("Stāvam jābūt pozitīvam skaitlim.").optional()}).superRefine((e,s)=>{"Dzīvoklis"===e.objectType&&(e.currentFloor||s.addIssue({code:L.z.ZodIssueCode.custom,message:"Stāvs ir obligāts lauks.",path:["currentFloor"]}),e.totalFloors||s.addIssue({code:L.z.ZodIssueCode.custom,message:"Kopējais stāvu skaits ir obligāts.",path:["totalFloors"]}),e.currentFloor&&e.totalFloors&&e.currentFloor>e.totalFloors&&s.addIssue({code:L.z.ZodIssueCode.custom,message:"Stāvs nevar būt lielāks par kopējo stāvu skaitu.",path:["currentFloor"]})),"Māja"!==e.objectType||e.totalFloors||s.addIssue({code:L.z.ZodIssueCode.custom,message:"Stāvu skaits ir obligāts.",path:["totalFloors"]})}),Z=L.z.object({name:L.z.string().min(2,{message:"Vārdam jābūt vismaz 2 burtus garam."}),email:L.z.string().email({message:"Lūdzu, ievadiet derīgu e-pasta adresi."}),phone:L.z.string().min(8,{message:"Tālruņa numuram jābūt vismaz 8 ciparus garam."})}),H=_.Op,K=x.createContext({}),q=e=>{let{...s}=e;return(0,t.jsx)(K.Provider,{value:{name:s.name},children:(0,t.jsx)(_.xI,{...s})})},B=()=>{let e=x.useContext(K),s=x.useContext(X),{getFieldState:a,formState:t}=(0,_.xW)(),r=a(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=s;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...r}},X=x.createContext({}),G=x.forwardRef((e,s)=>{let{className:a,...r}=e,l=x.useId();return(0,t.jsx)(X.Provider,{value:{id:l},children:(0,t.jsx)("div",{ref:s,className:(0,u.cn)("space-y-2",a),...r})})});G.displayName="FormItem";let W=x.forwardRef((e,s)=>{let{className:a,...r}=e,{error:l,formItemId:n}=B();return(0,t.jsx)(F,{ref:s,className:(0,u.cn)(l&&"text-destructive",a),htmlFor:n,...r})});W.displayName="FormLabel";let Q=x.forwardRef((e,s)=>{let{...a}=e,{error:r,formItemId:l,formDescriptionId:n,formMessageId:i}=B();return(0,t.jsx)(p.DX,{ref:s,id:l,"aria-describedby":r?"".concat(n," ").concat(i):"".concat(n),"aria-invalid":!!r,...a})});Q.displayName="FormControl",x.forwardRef((e,s)=>{let{className:a,...r}=e,{formDescriptionId:l}=B();return(0,t.jsx)("p",{ref:s,id:l,className:(0,u.cn)("text-sm text-muted-foreground",a),...r})}).displayName="FormDescription";let $=x.forwardRef((e,s)=>{var a;let{className:r,children:l,...n}=e,{error:i,formMessageId:o}=B(),d=i?String(null!=(a=null==i?void 0:i.message)?a:""):l;return d?(0,t.jsx)("p",{ref:s,id:o,className:(0,u.cn)("text-sm font-medium text-destructive",r),...n,children:d}):null});$.displayName="FormMessage";let ee=x.forwardRef((e,s)=>{let{className:a,type:r,...l}=e;return(0,t.jsx)("input",{type:r,className:(0,u.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...l})});ee.displayName="Input";var es=a(3500),ea=a(9007),et=a(2614);let er=es.bL;es.YJ;let el=es.WT,en=x.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsxs)(es.l9,{ref:s,className:(0,u.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[r,(0,t.jsx)(es.In,{asChild:!0,children:(0,t.jsx)(ea.A,{className:"h-4 w-4 opacity-50"})})]})});en.displayName=es.l9.displayName;let ei=x.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(es.PP,{ref:s,className:(0,u.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(et.A,{className:"h-4 w-4"})})});ei.displayName=es.PP.displayName;let eo=x.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(es.wn,{ref:s,className:(0,u.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(ea.A,{className:"h-4 w-4"})})});eo.displayName=es.wn.displayName;let ed=x.forwardRef((e,s)=>{let{className:a,children:r,position:l="popper",...n}=e;return(0,t.jsx)(es.ZL,{children:(0,t.jsxs)(es.UC,{ref:s,className:(0,u.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...n,children:[(0,t.jsx)(ei,{}),(0,t.jsx)(es.LM,{className:(0,u.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(eo,{})]})})});ed.displayName=es.UC.displayName,x.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(es.JU,{ref:s,className:(0,u.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=es.JU.displayName;let ec=x.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsxs)(es.q7,{ref:s,className:(0,u.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(es.VF,{children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})}),(0,t.jsx)(es.p4,{children:r})]})});ec.displayName=es.q7.displayName,x.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(es.wv,{ref:s,className:(0,u.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=es.wv.displayName;var eu=a(7599);let em=x.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(eu.bL,{className:(0,u.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:s,children:(0,t.jsx)(eu.zi,{className:(0,u.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});em.displayName=eu.bL.displayName;var ex=a(7268);let ep=x.forwardRef((e,s)=>{let{className:a,orientation:r="horizontal",decorative:l=!0,...n}=e;return(0,t.jsx)(ex.b,{ref:s,decorative:l,orientation:r,className:(0,u.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...n})});function eh(e){let{building:s,index:a}=e,{updateBuilding:r,removeBuilding:l,state:{buildings:n}}=(0,b.U)(),i=(0,_.mN)({resolver:(0,O.u)(Y),defaultValues:s,mode:"onBlur"}),o=i.watch("objectType"),d=i.watch("movablePropertyIncluded");return(0,x.useEffect)(()=>{let e=i.watch(e=>{r(a,e)});return()=>e.unsubscribe()},[i.watch,a,r]),(0,t.jsx)(c.P.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},children:(0,t.jsxs)(v,{className:"rounded-3xl shadow-lg overflow-hidden border-2 border-transparent focus-within:border-primary transition-colors duration-300",children:[(0,t.jsxs)(N,{className:"bg-muted/50 p-4 flex flex-row items-center justify-between",children:[(0,t.jsxs)(y,{className:"font-headline text-xl text-foreground flex items-center gap-2",children:[(0,t.jsx)(R.A,{className:"h-6 w-6 text-primary"}),"Nr.",a+1," - ",o]}),n.length>1&&(0,t.jsx)(j,{variant:"ghost",size:"icon",onClick:()=>l(a),className:"text-muted-foreground hover:text-destructive hover:bg-destructive/10","aria-label":"Remove property #".concat(a+1),children:(0,t.jsx)(V.A,{className:"h-5 w-5"})})]}),(0,t.jsx)(k,{className:"p-6",children:(0,t.jsx)(H,{...i,children:(0,t.jsxs)("form",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsx)(q,{control:i.control,name:"objectType",render:e=>{let{field:s}=e;return(0,t.jsxs)(G,{children:[(0,t.jsx)(W,{children:"Objekta tips"}),(0,t.jsxs)(er,{onValueChange:s.onChange,defaultValue:s.value,children:[(0,t.jsx)(Q,{children:(0,t.jsx)(en,{children:(0,t.jsx)(el,{placeholder:"Izvēlieties objekta tipu"})})}),(0,t.jsxs)(ed,{children:[(0,t.jsx)(ec,{value:"Dzīvoklis",children:"Dzīvoklis"}),(0,t.jsx)(ec,{value:"Māja",children:"Māja"}),(0,t.jsx)(ec,{value:"Ēka",children:"Ēka"})]})]}),(0,t.jsx)($,{})]})}}),(0,t.jsx)(q,{control:i.control,name:"ownerName",render:e=>{let{field:s}=e;return(0,t.jsxs)(G,{children:[(0,t.jsx)(W,{children:"Īpašnieka vārds, uzvārds"}),(0,t.jsx)(Q,{children:(0,t.jsx)(ee,{placeholder:"Jānis Bērziņš",...s})}),(0,t.jsx)($,{})]})}}),"Dzīvoklis"===o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(q,{control:i.control,name:"currentFloor",render:e=>{let{field:s}=e;return(0,t.jsxs)(G,{children:[(0,t.jsx)(W,{children:"Stāvs"}),(0,t.jsx)(Q,{children:(0,t.jsx)(ee,{type:"number",placeholder:"3",...s,onChange:e=>s.onChange(parseInt(e.target.value,10)||void 0)})}),(0,t.jsx)($,{})]})}}),(0,t.jsx)(q,{control:i.control,name:"totalFloors",render:e=>{let{field:s}=e;return(0,t.jsxs)(G,{children:[(0,t.jsx)(W,{children:"Kopējais stāvu skaits ēkā"}),(0,t.jsx)(Q,{children:(0,t.jsx)(ee,{type:"number",placeholder:"5",...s,onChange:e=>s.onChange(parseInt(e.target.value,10)||void 0)})}),(0,t.jsx)($,{})]})}})]}),"Māja"===o&&(0,t.jsx)(q,{control:i.control,name:"totalFloors",render:e=>{let{field:s}=e;return(0,t.jsxs)(G,{children:[(0,t.jsx)(W,{children:"Stāvu skaits"}),(0,t.jsx)(Q,{children:(0,t.jsx)(ee,{type:"number",placeholder:"2",...s,onChange:e=>s.onChange(parseInt(e.target.value,10)||void 0)})}),(0,t.jsx)($,{})]})}}),(0,t.jsx)(q,{control:i.control,name:"propertyArea",render:e=>{let{field:s}=e;return(0,t.jsxs)(G,{children:[(0,t.jsx)(W,{children:"Īpašuma platība (m\xb2)"}),(0,t.jsx)(Q,{children:(0,t.jsx)(ee,{type:"number",placeholder:"65.5",...s,onChange:e=>s.onChange(parseFloat(e.target.value)||void 0)})}),(0,t.jsx)($,{})]})}})]}),(0,t.jsx)(ep,{}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold font-headline text-foreground",children:"Papildus informācija"}),(0,t.jsx)(q,{control:i.control,name:"buildYear",render:e=>{let{field:s}=e;return(0,t.jsxs)(G,{className:"space-y-3",children:[(0,t.jsx)(W,{children:"Būvniecības gads"}),(0,t.jsx)(Q,{children:(0,t.jsxs)(I,{onValueChange:s.onChange,defaultValue:s.value,className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsxs)(G,{className:"flex items-center space-x-3 space-y-0",children:[(0,t.jsx)(Q,{children:(0,t.jsx)(P,{value:"Pirms 1971"})}),(0,t.jsx)(W,{className:"font-normal",children:"Pirms 1971"})]}),(0,t.jsxs)(G,{className:"flex items-center space-x-3 space-y-0",children:[(0,t.jsx)(Q,{children:(0,t.jsx)(P,{value:"No 1972 - 1999"})}),(0,t.jsx)(W,{className:"font-normal",children:"No 1972 - 1999"})]}),(0,t.jsxs)(G,{className:"flex items-center space-x-3 space-y-0",children:[(0,t.jsx)(Q,{children:(0,t.jsx)(P,{value:"Pēc 2000"})}),(0,t.jsx)(W,{className:"font-normal",children:"Pēc 2000"})]})]})}),(0,t.jsx)($,{})]})}}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4",children:[(0,t.jsx)(q,{control:i.control,name:"isConstantlyInhabited",render:e=>{let{field:s}=e;return(0,t.jsxs)(G,{className:"flex flex-row items-center justify-between rounded-lg border p-4 bg-muted/30",children:[(0,t.jsx)("div",{className:"space-y-0.5",children:(0,t.jsx)(W,{className:"text-base",children:"Ir pastāvīgi apdzīvots"})}),(0,t.jsx)(Q,{children:(0,t.jsx)(em,{checked:s.value,onCheckedChange:s.onChange})})]})}}),(0,t.jsx)(q,{control:i.control,name:"lossesInLast3Years",render:e=>{let{field:s}=e;return(0,t.jsxs)(G,{className:"flex flex-row items-center justify-between rounded-lg border p-4 bg-muted/30",children:[(0,t.jsx)("div",{className:"space-y-0.5",children:(0,t.jsx)(W,{className:"text-base",children:"Zaudējumi pēdējos 3 gados"})}),(0,t.jsx)(Q,{children:(0,t.jsx)(em,{checked:s.value,onCheckedChange:s.onChange})})]})}})]})]}),(0,t.jsx)(ep,{}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold font-headline text-foreground",children:"Kustamā manta"}),(0,t.jsx)(q,{control:i.control,name:"movablePropertyIncluded",render:e=>{let{field:s}=e;return(0,t.jsxs)(G,{className:"flex flex-row items-center justify-between rounded-lg border p-4 bg-accent/10",children:[(0,t.jsx)("div",{className:"space-y-0.5",children:(0,t.jsx)(W,{className:"text-base",children:"Iekļaut kustamo mantu"})}),(0,t.jsx)(Q,{children:(0,t.jsx)(em,{checked:s.value,onCheckedChange:s.onChange})})]})}}),d&&(0,t.jsx)(c.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:(0,t.jsx)(q,{control:i.control,name:"valuableMovablePropertyIncluded",render:e=>{let{field:s}=e;return(0,t.jsxs)(G,{className:"flex flex-row items-center justify-between rounded-lg border p-4 ml-8 bg-accent/20",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)(W,{className:"text-base",children:"Iekļaut vērtīgu mantu"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Māksla, dārglietas, u.c."})]}),(0,t.jsx)(Q,{children:(0,t.jsx)(em,{checked:s.value,onCheckedChange:s.onChange})})]})}})})]})]})})})]})})}ep.displayName=ex.b.displayName;var ef=a(984),ej=a(8068),eb=a(4651);let eg=[{id:1,title:"Riski",icon:r.A,component:(0,t.jsx)(function(){let{state:e,setState:s}=(0,b.U)(),a=D.find(e=>"hero-insurance"===e.id);return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)(v,{className:"rounded-3xl shadow-lg overflow-hidden",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"p-8 sm:p-12 flex flex-col justify-center",children:[(0,t.jsx)("h3",{className:"text-3xl lg:text-4xl font-bold font-headline text-primary leading-tight",children:"Aptauja"}),(0,t.jsx)("p",{className:"mt-4 text-lg font-bold text-foreground",children:"Sāciet savu ceļu uz pilnīgu sirdsmieru. Pielāgojiet savu apdrošināšanas plānu, kas atbilst tieši Jūsu vajadzībām."})]}),a&&(0,t.jsx)("div",{className:"relative h-64 md:h-full min-h-[250px]",children:(0,t.jsx)(E.default,{src:a.imageUrl,alt:a.description,fill:!0,className:"object-cover","data-ai-hint":a.imageHint,priority:!0})})]})}),(0,t.jsx)(v,{className:"max-w-2xl mx-auto rounded-3xl shadow-lg",children:(0,t.jsxs)(k,{className:"p-8",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold mb-4 text-center font-headline",children:"Izvēlies statusu"}),(0,t.jsxs)(I,{defaultValue:e.legalStatus,onValueChange:e=>{s(s=>({...s,legalStatus:e}))},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(F,{htmlFor:"fiziska",className:"cursor-pointer",children:(0,t.jsxs)(v,{className:"rounded-2xl p-6 text-center transition-all duration-300 ".concat("Fiziska persona"===e.legalStatus?"border-primary ring-2 ring-primary shadow-2xl":"hover:shadow-md"),children:[(0,t.jsx)(T.A,{className:"mx-auto h-10 w-10 mb-2 text-primary"}),(0,t.jsx)("h4",{className:"text-lg font-semibold",children:"Fiziska persona"}),(0,t.jsx)(P,{value:"Fiziska persona",id:"fiziska",className:"sr-only"})]})}),(0,t.jsx)(F,{htmlFor:"juridiska",className:"cursor-pointer",children:(0,t.jsxs)(v,{className:"rounded-2xl p-6 text-center transition-all duration-300 ".concat("Juridiska persona"===e.legalStatus?"border-primary ring-2 ring-primary shadow-2xl":"hover:shadow-md"),children:[(0,t.jsx)(R.A,{className:"mx-auto h-10 w-10 mb-2 text-primary"}),(0,t.jsx)("h4",{className:"text-lg font-semibold",children:"Juridiska persona"}),(0,t.jsx)(P,{value:"Juridiska persona",id:"juridiska",className:"sr-only"})]})})]})]})})]})},{})},{id:2,title:"Īpašums",icon:l.A,component:(0,t.jsx)(function(){let{state:e,addBuilding:s}=(0,b.U)(),[a,r]=(0,x.useState)(0),l=(0,x.useRef)(e.buildings.length);(0,x.useEffect)(()=>{e.buildings.length>l.current?r(e.buildings.length-1):a>=e.buildings.length&&e.buildings.length>0&&r(e.buildings.length-1),l.current=e.buildings.length},[e.buildings.length,a]);let n=e.buildings[a];return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,t.jsx)(v,{className:"bg-transparent border-none shadow-none",children:(0,t.jsxs)(N,{className:"text-center",children:[(0,t.jsx)(y,{className:"text-3xl font-headline",children:"Īpašuma detaļas"}),(0,t.jsx)(w,{className:"text-lg",children:"Pārvaldiet savus apdrošināmos objektus."})]})}),(0,t.jsxs)("div",{className:"p-4 bg-card border rounded-2xl flex flex-wrap items-center justify-center gap-2 shadow-sm",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground mr-2",children:"Apdrošināmie objekti:"}),e.buildings.map((e,s)=>(0,t.jsxs)(j,{variant:s===a?"default":"outline",size:"sm",onClick:()=>r(s),className:"rounded-full transition-all",children:["Nr. ",s+1]},e.id)),(0,t.jsxs)(j,{variant:"outline",size:"sm",onClick:s,className:"rounded-full transition-all",children:[(0,t.jsx)(M.A,{className:"mr-2 h-4 w-4"}),"Pievienot jaunu"]})]}),n&&(0,t.jsx)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,t.jsx)(eh,{building:n,index:a})},n.id)]})},{})},{id:3,title:"Kontakti",icon:n.A,component:(0,t.jsx)(function(){let{state:e,setState:s}=(0,b.U)(),a=(0,_.mN)({resolver:(0,O.u)(Z),defaultValues:e.contact,mode:"onBlur"});return(0,x.useEffect)(()=>{let e=a.watch(e=>{s(s=>({...s,contact:e}))});return()=>e.unsubscribe()},[a.watch,s]),(0,t.jsxs)(v,{className:"max-w-2xl mx-auto rounded-3xl shadow-lg",children:[(0,t.jsxs)(N,{children:[(0,t.jsx)(y,{className:"text-3xl font-headline",children:"Gandrīz pabeigts!"}),(0,t.jsx)(w,{children:"Lūdzu, ievadiet savu kontaktinformāciju, lai mēs varētu sagatavot Jums piedāvājumu."})]}),(0,t.jsx)(k,{children:(0,t.jsx)(H,{...a,children:(0,t.jsx)("form",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(q,{control:a.control,name:"name",render:e=>{let{field:s}=e;return(0,t.jsxs)(G,{children:[(0,t.jsx)(W,{children:"Vārds, uzvārds"}),(0,t.jsx)(Q,{children:(0,t.jsx)(ee,{placeholder:"Jānis Bērziņš",...s})}),(0,t.jsx)($,{})]})}}),(0,t.jsx)(q,{control:a.control,name:"email",render:e=>{let{field:s}=e;return(0,t.jsxs)(G,{children:[(0,t.jsx)(W,{children:"E-pasts"}),(0,t.jsx)(Q,{children:(0,t.jsx)(ee,{type:"email",placeholder:"janis.berzins@example.com",...s})}),(0,t.jsx)($,{})]})}}),(0,t.jsx)(q,{control:a.control,name:"phone",render:e=>{let{field:s}=e;return(0,t.jsxs)(G,{children:[(0,t.jsx)(W,{children:"Tālrunis"}),(0,t.jsx)(Q,{children:(0,t.jsx)(ee,{placeholder:"+371 20000000",...s})}),(0,t.jsx)($,{})]})}})]})})})})]})},{})},{id:4,title:"Apstiprinājums",icon:i.A,component:(0,t.jsx)(function(){let{state:e}=(0,b.U)(),s=e=>{let{label:s,value:a}=e;return a?(0,t.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:s}),(0,t.jsx)("p",{className:"font-semibold text-foreground text-right",children:a})]}):null},a=e=>{let{label:s,value:a}=e;return(0,t.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:s}),(0,t.jsxs)("div",{className:"flex items-center gap-2 font-semibold",children:[a?(0,t.jsx)(ef.A,{className:"h-5 w-5 text-green-500"}):(0,t.jsx)(ej.A,{className:"h-5 w-5 text-red-500"}),(0,t.jsx)("span",{children:a?"Jā":"Nē"})]})]})};return e.submitted?(0,t.jsx)(v,{className:"max-w-2xl mx-auto rounded-3xl shadow-lg",children:(0,t.jsxs)(N,{className:"text-center",children:[(0,t.jsx)(eb.A,{className:"mx-auto h-16 w-16 text-primary"}),(0,t.jsx)(y,{className:"text-3xl font-headline",children:"Paldies!"}),(0,t.jsx)(w,{className:"text-base",children:"Pieteikums sagatavots nosūtīšanai. Lūdzu, pabeidziet sūtīšanu savā e-pasta programmā."})]})}):(0,t.jsxs)(v,{className:"max-w-3xl mx-auto rounded-3xl shadow-lg",children:[(0,t.jsxs)(N,{className:"text-center",children:[(0,t.jsx)(y,{className:"text-3xl font-headline",children:"Pieteikuma kopsavilkums"}),(0,t.jsx)(w,{children:"Lūdzu, pārbaudiet ievadīto informāciju pirms nosūtīšanas."})]}),(0,t.jsxs)(k,{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold font-headline mb-2 text-primary",children:"Klienta informācija"}),(0,t.jsx)(v,{className:"rounded-2xl",children:(0,t.jsxs)(k,{className:"p-4 divide-y",children:[(0,t.jsx)(s,{label:"Personas statuss",value:e.legalStatus}),(0,t.jsx)(s,{label:"Vārds, uzvārds",value:e.contact.name}),(0,t.jsx)(s,{label:"E-pasts",value:e.contact.email}),(0,t.jsx)(s,{label:"Tālrunis",value:e.contact.phone})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold font-headline mb-2 text-primary",children:"Apdrošināmie objekti"}),(0,t.jsx)("div",{className:"space-y-6",children:e.buildings.map((e,r)=>(0,t.jsxs)(v,{className:"rounded-2xl overflow-hidden",children:[(0,t.jsx)(N,{className:"bg-muted/50 p-4",children:(0,t.jsxs)(y,{className:"text-xl font-headline",children:["Nr.",r+1," - ",e.objectType]})}),(0,t.jsxs)(k,{className:"p-4 divide-y",children:[(0,t.jsx)(s,{label:"Īpašnieks",value:e.ownerName}),(0,t.jsx)(s,{label:"Platība",value:"".concat(e.propertyArea," m\xb2")}),(0,t.jsx)(s,{label:"Būvniecības gads",value:e.buildYear}),"Dzīvoklis"===e.objectType&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s,{label:"Stāvs",value:e.currentFloor}),(0,t.jsx)(s,{label:"Kopējais stāvu skaits",value:e.totalFloors})]}),"Māja"===e.objectType&&(0,t.jsx)(s,{label:"Stāvu skaits",value:e.totalFloors}),(0,t.jsx)(a,{label:"Pastāvīgi apdzīvots",value:e.isConstantlyInhabited}),(0,t.jsx)(a,{label:"Zaudējumi pēdējos 3 gados",value:e.lossesInLast3Years}),(0,t.jsx)(a,{label:"Kustamā manta",value:e.movablePropertyIncluded}),e.movablePropertyIncluded&&(0,t.jsx)("div",{className:"pl-4",children:(0,t.jsx)(a,{label:"Vērtīga kustamā manta",value:e.valuableMovablePropertyIncluded})})]})]},e.id))})]})]})]})},{})}];function ev(){let{state:e,handleBack:s,handleNext:a,setSubmitted:r}=(0,b.U)(),{step:l}=e,{toast:n}=(0,g.dj)(),i=eg.find(e=>e.id===l),u=async()=>{try{let s=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error("Server error! Status: ".concat(s.status));let a=await s.json();console.log("Server response:",a),n({title:"Pieteikums nosūtīts!",description:"Jūsu pieteikums ir veiksmīgi nosūtīts mūsu brokerim.",variant:"default",className:"bg-primary text-primary-foreground border-primary"}),r(!0)}catch(e){console.error("Failed to send data:",e),n({title:"Kļūda!",description:"Notikusi kļūda, sūtot pieteikumu. Lūdzu, mēģiniet vēlāk.",variant:"destructive"})}};return(0,t.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,t.jsx)("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-sm border-b",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsx)("div",{className:"flex items-center justify-between h-20",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(o.A,{className:"h-8 w-8 text-primary"}),(0,t.jsx)("h1",{className:"text-2xl font-headline font-bold text-foreground",children:"Apdrošinātājs Pro"})]})}),(0,t.jsx)(m,{currentStep:l,steps:eg.map(e=>({title:e.title,icon:e.icon}))})]})}),(0,t.jsx)("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsx)(d.N,{mode:"wait",children:(0,t.jsx)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:null==i?void 0:i.component},l)})}),(0,t.jsx)("footer",{className:"sticky bottom-0 bg-background/80 backdrop-blur-sm border-t py-4",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between",children:[(0,t.jsx)("div",{children:l>1&&!e.submitted&&(0,t.jsx)(j,{variant:"outline",onClick:s,children:"Atpakaļ"})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[!e.submitted&&(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Solis ",l," no ",eg.length]}),l<eg.length&&!e.submitted&&(0,t.jsx)(j,{onClick:a,children:"Tālāk"}),l===eg.length&&!e.submitted&&(0,t.jsx)(j,{onClick:u,children:"Sūtīt brokerim"})]})]})})]})}}},e=>{e.O(0,[75,511,441,255,358],()=>e(e.s=5844)),_N_E=e.O()}]);